<mat-card class="pesquisa-card">
  <h2 class="titulo">Cadastrar Pesquisa de Satisfação</h2>

  <form #formPesquisa="ngForm" (ngSubmit)="onSubmit()" class="pesquisa-form">
    <mat-form-field appearance="outline" class="form-field">
      <mat-label>Descrição</mat-label>
      <textarea matInput name="descricao" rows="4" required [(ngModel)]="pesquisa.descricao"
        placeholder="Digite a descrição ou comentário da pesquisa"></textarea>
      <mat-icon matSuffix>description</mat-icon>
      <mat-error *ngIf="formPesquisa.submitted && !pesquisa.descricao">
        A descrição é obrigatória
      </mat-error>
    </mat-form-field>

    <div class="avaliacao-container">
      <label class="label">Avaliação</label>
      <div class="stars">
        <mat-icon *ngFor="let star of [1, 2, 3, 4, 5]" (click)="pesquisa.estrelas = star"
          [ngClass]="{ ativo: star <= pesquisa.estrelas }">
          {{ star <= pesquisa.estrelas ? 'star' : 'star_border' }} </mat-icon>
      </div>
      <mat-error *ngIf="formPesquisa.submitted && pesquisa.estrelas === 0">
        É necessário selecionar ao menos uma estrela
      </mat-error>
    </div>

    <div class="form-actions">
      <button mat-raised-button color="primary" type="submit">
        <mat-icon>save</mat-icon>
        Salvar
      </button>

      <button mat-button color="warn" type="button" (click)="onBack()">
        <mat-icon>arrow_back</mat-icon>
        Voltar
      </button>
    </div>
  </form>
</mat-card>
